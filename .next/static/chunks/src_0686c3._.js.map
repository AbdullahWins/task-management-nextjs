{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///media/abdullahwins/Code/AbdullahWins/next-todo-frontend/src/components/common/task-card.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  useUpdateTaskStatusMutation,\n  useDeleteTaskMutation,\n  useUpdateTaskMutation,\n} from \"@/services/store/modules/api\";\n\ninterface Task {\n  _id: string;\n  userId: string;\n  title: string;\n  description: string;\n  dueDate: number;\n  status: \"pending\" | \"completed\" | \"overdue\";\n  [key: string]: any;\n}\n\ninterface TaskCardProps {\n  task: Task;\n  \n  onUpdate: (id: string, updates: Partial<any>) => void;\n\n  onDelete: (id: string) => void;\n}\n\nconst TaskCard = ({ task }: TaskCardProps) => {\n  const [updateTask] = useUpdateTaskMutation();\n  const [updateTaskStatus] = useUpdateTaskStatusMutation();\n  const [deleteTask] = useDeleteTaskMutation();\n\n  const [title, setTitle] = useState(task.title);\n  const [description, setDescription] = useState(task.description);\n  const [dueDate, setDueDate] = useState(task.dueDate);\n\n  // Handle status change (pending -> completed -> overdue)\n  const handleStatusUpdate = async () => {\n    const newStatus =\n      task.status === \"pending\"\n        ? \"completed\"\n        : task.status === \"completed\"\n        ? \"overdue\"\n        : \"pending\";\n\n    try {\n      await updateTaskStatus({ _id: task._id, status: newStatus });\n    } catch (error) {\n      console.error(\"Error updating task status:\", error);\n    }\n  };\n\n  const handleUpdate = () => {\n    const updatedTask = {\n      _id: task._id,\n      title,\n      description,\n      dueDate,\n      userId: task.userId,\n      status: task.status,\n    };\n\n    updateTask(updatedTask)\n      .unwrap()\n      .catch((err) => {\n        console.error(\"Error updating task:\", err);\n      });\n  };\n\n  const handleDelete = () => {\n    deleteTask(task._id).catch((err) => {\n      console.error(\"Error deleting task:\", err);\n    });\n  };\n\n  return (\n    <div className=\"w-full max-w-md p-6 space-y-6 bg-white rounded-lg shadow-lg hover:shadow-xl transition duration-300 ease-in-out\">\n      <h3 className=\"text-2xl font-semibold text-gray-800 mb-4\">{title}</h3>\n\n      <div className=\"space-y-4\">\n        <div>\n          <label\n            htmlFor=\"title\"\n            className=\"block text-sm font-medium text-gray-700\"\n          >\n            Title\n          </label>\n          <input\n            id=\"title\"\n            type=\"text\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            className=\"w-full px-4 py-2 mt-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\n            placeholder=\"Enter task title\"\n          />\n        </div>\n\n        <div>\n          <label\n            htmlFor=\"description\"\n            className=\"block text-sm font-medium text-gray-700\"\n          >\n            Description\n          </label>\n          <textarea\n            id=\"description\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            className=\"w-full px-4 py-2 mt-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\n            placeholder=\"Enter task description\"\n            rows={4}\n          />\n        </div>\n\n        <div>\n          <label\n            htmlFor=\"dueDate\"\n            className=\"block text-sm font-medium text-gray-700\"\n          >\n            Due Date\n          </label>\n          <input\n            id=\"dueDate\"\n            type=\"date\"\n            value={new Date(dueDate).toISOString().split(\"T\")[0]}\n            onChange={(e) => setDueDate(new Date(e.target.value).getTime())}\n            className=\"w-full px-4 py-2 mt-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\n          />\n        </div>\n      </div>\n\n      <div className=\"flex justify-between mt-6\">\n        {/* Status Update Button */}\n        <button\n          onClick={handleStatusUpdate}\n          className={`px-4 py-2 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-300 transition ${\n            task.status === \"pending\"\n              ? \"bg-indigo-600 text-white hover:bg-indigo-500\"\n              : task.status === \"completed\"\n              ? \"bg-green-600 text-white hover:bg-green-500\"\n              : \"bg-red-600 text-white hover:bg-red-500\"\n          }`}\n        >\n          {task.status === \"pending\"\n            ? \"Mark as Completed\"\n            : task.status === \"completed\"\n            ? \"Move to Overdue\"\n            : \"Move to Pending\"}\n        </button>\n\n        {/* Update Task Button */}\n        <button\n          onClick={handleUpdate}\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg shadow-sm hover:bg-green-500 focus:ring-2 focus:ring-green-300\"\n        >\n          Update Task\n        </button>\n\n        {/* Delete Task Button */}\n        <button\n          onClick={handleDelete}\n          className=\"px-4 py-2 bg-red-600 text-white rounded-lg shadow-sm hover:bg-red-500 focus:ring-2 focus:ring-red-300\"\n        >\n          Delete Task\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default TaskCard;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///media/abdullahwins/Code/AbdullahWins/next-todo-frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport {\n  useUpdateTaskMutation,\n  useDeleteTaskMutation,\n  useGetTasksQuery,\n} from \"@/services/store/modules/api\";\nimport TaskCard from \"@/components/common/task-card\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function Tasks() {\n  const { data: tasks, isLoading, error } = useGetTasksQuery({});\n  const [updateTask] = useUpdateTaskMutation();\n  const [deleteTask] = useDeleteTaskMutation();\n  const router = useRouter();\n\n  // Redirect user if not authenticated\n  useEffect(() => {\n    const token = localStorage.getItem(\"accessToken\");\n    if (!token) {\n      router.push(\"/auth/signin\");\n    }\n  }, [router]);\n\n  const handleUpdateTask = (id: string, updates: Partial<any>) => {\n    updateTask({ _id: id, ...updates }).catch((err) => {\n      console.error(\"Error updating task:\", err);\n    });\n  };\n\n  const handleDeleteTask = (id: string) => {\n    deleteTask(id).catch((err) => {\n      console.error(\"Error deleting task:\", err);\n    });\n  };\n\n  interface Task {\n    _id: string;\n    userId: string;\n    title: string;\n    description: string;\n    dueDate: number;\n    status: \"pending\" | \"completed\" | \"overdue\";\n    [key: string]: any;\n  }\n\n  const pendingTasks = tasks?.data?.filter(\n    (task: Task) => task.status === \"pending\"\n  );\n  const completedTasks: Task[] = tasks?.data?.filter(\n    (task: Task) => task.status === \"completed\"\n  );\n  const overdueTasks: Task[] = tasks?.data?.filter(\n    (task: Task) => task.status === \"overdue\"\n  );\n\n  if (isLoading) {\n    return <p>Loading tasks...</p>;\n  }\n\n  if (error) {\n    return (\n      <p>\n        Error loading tasks:{\" \"}\n        {error instanceof Error ? error.message : \"An unknown error occurred\"}\n      </p>\n    );\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Pending Tasks */}\n      <div>\n        <h2 className=\"text-2xl font-semibold\">Pending Tasks</h2>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {pendingTasks?.map((task: Task) => (\n            <TaskCard\n              key={task._id}\n              task={task}\n              onUpdate={handleUpdateTask}\n              onDelete={handleDeleteTask}\n            />\n          ))}\n        </div>\n      </div>\n\n      {/* Completed Tasks */}\n      <div>\n        <h2 className=\"text-2xl font-semibold\">Completed Tasks</h2>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {completedTasks?.map((task) => (\n            <TaskCard\n              key={task._id}\n              task={task}\n              onUpdate={handleUpdateTask}\n              onDelete={handleDeleteTask}\n            />\n          ))}\n        </div>\n      </div>\n\n      {/* Overdue Tasks */}\n      <div>\n        <h2 className=\"text-2xl font-semibold\">Overdue Tasks</h2>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {overdueTasks?.map((task) => (\n            <TaskCard\n              key={task._id}\n              task={task}\n              onUpdate={handleUpdateTask}\n              onDelete={handleDeleteTask}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAKA;AACA;;;AATA;;;;;AAWe,SAAS;;IACtB,MAAM,EAAE,MAAM,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,6IAAA,CAAA,mBAAgB,AAAD,EAAE,CAAC;IAC5D,MAAM,CAAC,WAAW,GAAG,CAAA,GAAA,6IAAA,CAAA,wBAAqB,AAAD;IACzC,MAAM,CAAC,WAAW,GAAG,CAAA,GAAA,6IAAA,CAAA,wBAAqB,AAAD;IACzC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,qCAAqC;IACrC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;2BAAE;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;gBACV,OAAO,IAAI,CAAC;YACd;QACF;0BAAG;QAAC;KAAO;IAEX,MAAM,mBAAmB,CAAC,IAAY;QACpC,WAAW;YAAE,KAAK;YAAI,GAAG,OAAO;QAAC,GAAG,KAAK,CAAC,CAAC;YACzC,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,WAAW,IAAI,KAAK,CAAC,CAAC;YACpB,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAYA,MAAM,eAAe,OAAO,MAAM,OAChC,CAAC,OAAe,KAAK,MAAM,KAAK;IAElC,MAAM,iBAAyB,OAAO,MAAM,OAC1C,CAAC,OAAe,KAAK,MAAM,KAAK;IAElC,MAAM,eAAuB,OAAO,MAAM,OACxC,CAAC,OAAe,KAAK,MAAM,KAAK;IAGlC,IAAI,WAAW;QACb,qBAAO,6LAAC;sBAAE;;;;;;IACZ;IAEA,IAAI,OAAO;QACT,qBACE,6LAAC;;gBAAE;gBACoB;gBACpB,iBAAiB,QAAQ,MAAM,OAAO,GAAG;;;;;;;IAGhD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,6LAAC;wBAAI,WAAU;kCACZ,cAAc,IAAI,CAAC,qBAClB,6LAAC,+IAAA,CAAA,UAAQ;gCAEP,MAAM;gCACN,UAAU;gCACV,UAAU;+BAHL,KAAK,GAAG;;;;;;;;;;;;;;;;0BAUrB,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,6LAAC;wBAAI,WAAU;kCACZ,gBAAgB,IAAI,CAAC,qBACpB,6LAAC,+IAAA,CAAA,UAAQ;gCAEP,MAAM;gCACN,UAAU;gCACV,UAAU;+BAHL,KAAK,GAAG;;;;;;;;;;;;;;;;0BAUrB,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,6LAAC;wBAAI,WAAU;kCACZ,cAAc,IAAI,CAAC,qBAClB,6LAAC,+IAAA,CAAA,UAAQ;gCAEP,MAAM;gCACN,UAAU;gCACV,UAAU;+BAHL,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;;AAU3B;GA3GwB;;QACoB,6IAAA,CAAA,mBAAgB;QACrC,6IAAA,CAAA,wBAAqB;QACrB,6IAAA,CAAA,wBAAqB;QAC3B,qIAAA,CAAA,YAAS;;;KAJF"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}